<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Ishor Acharya</title>
    <link rel="icon" href="ishor_acharya_logo.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="admin-style.css">
</head>

<body class="dashboard-page">
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo">
                <i class="fas fa-shield-alt"></i>
                <h2>Admin Panel</h2>
            </div>
            <p class="sidebar-subtitle">Ishor Acharya</p>
        </div>

        <nav class="sidebar-nav">
            <a class="nav-item active" data-section="overview">
                <i class="fas fa-chart-line"></i>
                <span>Overview</span>
            </a>
            <a class="nav-item" data-section="projects">
                <i class="fas fa-laptop-code"></i>
                <span>Projects</span>
            </a>
            <a class="nav-item" data-section="testimonials">
                <i class="fas fa-comments"></i>
                <span>Testimonials</span>
            </a>
            <a class="nav-item" data-section="expertise">
                <i class="fas fa-star"></i>
                <span>Expertise</span>
            </a>
            <a class="nav-item" data-section="settings">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <button class="logout-btn" id="logoutBtn">
                <i class="fas fa-sign-out-alt"></i>
                Logout
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Success Message -->
        <div class="success-message" id="successMessage">
            <i class="fas fa-check-circle"></i>
            <span id="successText">Action completed successfully!</span>
        </div>

        <!-- Overview Section -->
        <section class="section active" id="overview">
            <div class="content-header">
                <h1>Dashboard Overview</h1>
                <p>Welcome back! Here's what's happening with your portfolio.</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon primary">
                            <i class="fas fa-laptop-code"></i>
                        </div>
                    </div>
                    <div class="stat-value" id="totalProjects">0</div>
                    <div class="stat-label">Total Projects</div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon success">
                            <i class="fas fa-check-circle"></i>
                        </div>
                    </div>
                    <div class="stat-value" id="completedProjects">0</div>
                    <div class="stat-label">Completed Projects</div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon warning">
                            <i class="fas fa-comments"></i>
                        </div>
                    </div>
                    <div class="stat-value" id="totalTestimonials">0</div>
                    <div class="stat-label">Testimonials</div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon secondary">
                            <i class="fas fa-star"></i>
                        </div>
                    </div>
                    <div class="stat-value" id="totalExpertise">0</div>
                    <div class="stat-label">Expertise Areas</div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon info" style="background: rgba(6, 182, 212, 0.1); color: #0891b2;">
                            <i class="fas fa-users"></i>
                        </div>
                    </div>
                    <div class="stat-value" id="totalVisitors">0</div>
                    <div class="stat-label">Total Visitors</div>
                </div>
            </div>

            <div class="data-table">
                <div style="padding: 24px;">
                    <h3 style="margin-bottom: 16px;">Recent Activity</h3>
                    <p style="color: var(--text-muted);">Your recent updates and changes will appear here.</p>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section class="section" id="projects">
            <div class="content-header">
                <h1>Manage Projects</h1>
                <p>Add, edit, or remove projects from your portfolio.</p>
            </div>

            <div class="action-bar">
                <button class="btn btn-primary" id="addProjectBtn">
                    <i class="fas fa-plus"></i>
                    Add New Project
                </button>
            </div>

            <div class="data-table">
                <div class="table-responsive">
                    <table id="projectsTable">
                        <thead>
                            <tr>
                                <th>Project Name</th>
                                <th>Status</th>
                                <th>Technologies</th>
                                <th>Link</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="projectsTableBody">
                            <!-- Projects will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section class="section" id="testimonials">
            <div class="content-header">
                <h1>Manage Testimonials</h1>
                <p>Add, edit, or remove client testimonials.</p>
            </div>

            <div class="action-bar">
                <button class="btn btn-primary" id="addTestimonialBtn">
                    <i class="fas fa-plus"></i>
                    Add New Testimonial
                </button>
            </div>

            <div class="data-table">
                <div class="table-responsive">
                    <table id="testimonialsTable">
                        <thead>
                            <tr>
                                <th>Photo</th>
                                <th>Name</th>
                                <th>Role</th>
                                <th>Testimonial</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="testimonialsTableBody">
                            <!-- Testimonials will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Expertise Section -->
        <section class="section" id="expertise">
            <div class="content-header">
                <h1>Manage Expertise</h1>
                <p>Add, edit, or remove your areas of expertise.</p>
            </div>

            <div class="action-bar">
                <button class="btn btn-primary" id="addExpertiseBtn">
                    <i class="fas fa-plus"></i>
                    Add New Expertise
                </button>
            </div>

            <div class="data-table">
                <div class="table-responsive">
                    <table id="expertiseTable">
                        <thead>
                            <tr>
                                <th>Icon</th>
                                <th>Title</th>
                                <th>Description</th>
                                <th>Skills</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="expertiseTableBody">
                            <!-- Expertise will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Settings Section -->
        <section class="section" id="settings">
            <div class="content-header">
                <h1>Settings</h1>
                <p>Manage your admin panel settings.</p>
            </div>

            <div class="data-table">
                <div style="padding: 24px;">
                    <h3 style="margin-bottom: 16px;">Account Information</h3>
                    <p style="color: var(--text-muted); margin-bottom: 24px;">Logged in as: <strong
                            id="adminEmailDisplay"></strong></p>

                    <h3 style="margin-bottom: 16px;">Automatic Cloud Backup</h3>
                    <div
                        style="background: var(--light-bg); padding: 15px; border-radius: 8px; margin-bottom: 24px; border: 1px solid #e2e8f0;">
                        <p style="font-size: 0.9rem; margin-bottom: 15px; color: var(--text-muted);">Configure your
                            Google Drive backup URL to save your data automatically. See <a
                                href="GOOGLE_DRIVE_BACKUP.md" target="_blank" style="color: var(--primary-color);">setup
                                instructions</a>.</p>
                        <div class="form-group" style="margin-bottom: 12px;">
                            <label style="font-size: 0.85rem;">Apps Script URL</label>
                            <input type="url" id="backupScriptUrl"
                                placeholder="https://script.google.com/macros/s/.../exec" style="margin-top: 5px;">
                        </div>
                        <button class="btn btn-primary" id="saveBackupSettingsBtn"
                            style="font-size: 0.85rem; padding: 8px 16px;">
                            <i class="fas fa-save" style="margin-right: 5px;"></i> Save URL
                        </button>
                    </div>

                    <h3 style="margin-bottom: 16px; margin-top: 32px;">Visitor Counter Management</h3>
                    <div
                        style="background: var(--light-bg); padding: 15px; border-radius: 8px; margin-bottom: 24px; border: 1px solid #e2e8f0;">
                        <p style="font-size: 0.9rem; margin-bottom: 15px; color: var(--text-muted);">Manually adjust the
                            total visitor count or sync it with external analytics.</p>
                        <div class="form-group" style="margin-bottom: 12px;">
                            <label style="font-size: 0.85rem;">Total Visitors</label>
                            <input type="number" id="visitorCountInput" style="margin-top: 5px;">
                        </div>
                        <button class="btn btn-primary" id="saveVisitorBtn"
                            style="font-size: 0.85rem; padding: 8px 16px;">
                            <i class="fas fa-sync" style="margin-right: 5px;"></i> Update Count
                        </button>
                    </div>

                    <h3 style="margin-bottom: 16px; margin-top: 32px;">Data Management</h3>
                    <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                        <button class="btn btn-secondary" id="exportDataBtn">
                            <i class="fas fa-download"></i>
                            Export All Data
                        </button>
                        <button class="btn btn-secondary" id="importDataBtn">
                            <i class="fas fa-upload"></i>
                            Import Data
                        </button>
                        <button class="btn btn-primary" id="cloudBackupBtn">
                            <i class="fas fa-cloud-upload-alt"></i>
                            Backup to Drive Now
                        </button>
                        <button class="btn btn-danger" id="clearDataBtn">
                            <i class="fas fa-trash"></i>
                            Clear All Data
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Project Modal -->
    <div class="modal" id="projectModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="projectModalTitle">Add New Project</h2>
                <button class="modal-close" id="closeProjectModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="projectForm">
                    <input type="hidden" id="projectId">

                    <div class="form-group">
                        <label for="projectName">Project Name *</label>
                        <input type="text" id="projectName" required>
                    </div>

                    <div class="form-group">
                        <label for="projectIcon">Icon Class (FontAwesome) *</label>
                        <input type="text" id="projectIcon" placeholder="fas fa-laptop-code" required>
                        <small style="color: var(--text-muted); font-size: 12px;">
                            Browse icons at <a href="https://fontawesome.com/icons" target="_blank"
                                style="color: var(--primary-color);">fontawesome.com</a>
                        </small>
                    </div>

                    <div class="form-group">
                        <label for="projectStatus">Status *</label>
                        <select id="projectStatus" required>
                            <option value="completed">Completed</option>
                            <option value="progress">In Progress</option>
                            <option value="planning">Planning</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="projectDescription">Description *</label>
                        <textarea id="projectDescription" required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="projectTags">Technologies (comma-separated) *</label>
                        <input type="text" id="projectTags" placeholder="HTML, CSS, JavaScript" required>
                    </div>

                    <div class="form-group">
                        <label for="projectLink">Project Link (optional)</label>
                        <input type="url" id="projectLink" placeholder="https://example.com">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelProjectBtn">Cancel</button>
                <button class="btn btn-primary" id="saveProjectBtn">
                    <i class="fas fa-save"></i>
                    Save Project
                </button>
            </div>
        </div>
    </div>

    <!-- Testimonial Modal -->
    <div class="modal" id="testimonialModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="testimonialModalTitle">Add New Testimonial</h2>
                <button class="modal-close" id="closeTestimonialModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="testimonialForm">
                    <input type="hidden" id="testimonialId">

                    <div class="form-group">
                        <label for="testimonialName">Name *</label>
                        <input type="text" id="testimonialName" required>
                    </div>

                    <div class="form-group">
                        <label for="testimonialRole">Role/Title *</label>
                        <input type="text" id="testimonialRole" placeholder="e.g., Student, Business Owner" required>
                    </div>

                    <div class="form-group">
                        <label for="testimonialText">Testimonial *</label>
                        <textarea id="testimonialText" required></textarea>
                    </div>

                    <div class="form-group">
                        <label>Photo (optional)</label>
                        <div class="image-upload" id="testimonialImageUpload">
                            <input type="file" id="testimonialImage" accept="image/*">
                            <i class="fas fa-cloud-upload-alt"
                                style="font-size: 32px; color: var(--primary-color); margin-bottom: 8px;"></i>
                            <p style="color: var(--text-muted); margin: 0;">Click to upload photo</p>
                            <small style="color: var(--text-muted); font-size: 12px;">PNG, JPG up to 2MB</small>
                        </div>
                        <div class="image-preview" id="testimonialImagePreview" style="display: none;">
                            <img id="testimonialImagePreviewImg" src="" alt="Preview">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelTestimonialBtn">Cancel</button>
                <button class="btn btn-primary" id="saveTestimonialBtn">
                    <i class="fas fa-save"></i>
                    Save Testimonial
                </button>
            </div>
        </div>
    </div>

    <!-- Expertise Modal -->
    <div class="modal" id="expertiseModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="expertiseModalTitle">Add New Expertise</h2>
                <button class="modal-close" id="closeExpertiseModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="expertiseForm">
                    <input type="hidden" id="expertiseId">

                    <div class="form-group">
                        <label for="expertiseIcon">Icon Class (FontAwesome) *</label>
                        <input type="text" id="expertiseIcon" placeholder="fas fa-code" required>
                    </div>

                    <div class="form-group">
                        <label for="expertiseTitle">Title *</label>
                        <input type="text" id="expertiseTitle" required>
                    </div>

                    <div class="form-group">
                        <label for="expertiseDescription">Description *</label>
                        <textarea id="expertiseDescription" required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="expertiseSkills">Skills (comma-separated) *</label>
                        <input type="text" id="expertiseSkills" placeholder="Skill 1, Skill 2, Skill 3" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelExpertiseBtn">Cancel</button>
                <button class="btn btn-primary" id="saveExpertiseBtn">
                    <i class="fas fa-save"></i>
                    Save Expertise
                </button>
            </div>
        </div>
    </div>

    <script src="admin-dashboard.js"></script>
</body>

</html>